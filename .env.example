# ==============================================================================
# Environment Variables for DeepStream 8.0 + YOLO11x Docker
# ==============================================================================
# Copy this file to .env and customize for your environment
# cp .env.example .env

# ==============================================================================
# Docker Configuration
# ==============================================================================

# Docker image configuration
IMAGE_NAME=deepstream-yolo11
IMAGE_TAG=latest

# Container name
CONTAINER_NAME=deepstream-yolo11-app

# ==============================================================================
# GPU Configuration
# ==============================================================================

# GPU device selection
# Options: "all", "0", "1", "0,1", etc.
CUDA_VISIBLE_DEVICES=all
GPU_DEVICES=all

# NVIDIA driver capabilities
# Options: compute,utility,video,graphics,display
NVIDIA_DRIVER_CAPABILITIES=all

# ==============================================================================
# Display Configuration (for GUI)
# ==============================================================================

# X11 display (for GUI applications)
# Usually :0 for local display
DISPLAY=:0

# ==============================================================================
# DeepStream Configuration
# ==============================================================================

# DeepStream directory
DEEPSTREAM_DIR=/opt/nvidia/deepstream/deepstream-8.0

# CUDA version
CUDA_VER=12.2

# TensorRT version
TENSORRT_VER=8.6.1

# ==============================================================================
# GStreamer Configuration
# ==============================================================================

# GStreamer debug level (0-9)
# 0: none, 1: error, 2: warning, 3: info, 4: debug, 5: log, 6+: trace
GST_DEBUG=1

# Disable color in GStreamer output
GST_DEBUG_NO_COLOR=1

# ==============================================================================
# Application Configuration
# ==============================================================================

# Python settings
PYTHONUNBUFFERED=1
PYTHONDONTWRITEBYTECODE=1

# Timezone
TZ=America/Los_Angeles

# ==============================================================================
# Network Configuration
# ==============================================================================

# Network mode for container
# Options: host, bridge
NETWORK_MODE=host

# RTSP streaming ports
RTSP_PORT=8554
RTSP_PORT_SECONDARY=8555

# Monitoring/API port
API_PORT=9000

# ==============================================================================
# Path Configuration
# ==============================================================================

# Base directory for project (on host)
PROJECT_ROOT=/home/diego/Documentos/deepstream/app

# Engine storage directory
ENGINES_DIR=./engines

# Logs directory
LOGS_DIR=./logs

# Output directory
OUTPUT_DIR=./output

# Recordings directory
RECORDINGS_DIR=./recordings

# ==============================================================================
# Model Configuration
# ==============================================================================

# YOLO model to use
YOLO_MODEL=yolo11x

# Model precision (FP16 or FP32)
MODEL_PRECISION=FP16

# TensorRT workspace size in MB
TENSORRT_WORKSPACE=8192

# Batch size for inference
BATCH_SIZE=1

# ==============================================================================
# Camera Configuration
# ==============================================================================

# Number of cameras
NUM_CAMERAS=1

# Default RTSP URL (if using RTSP cameras)
# CAMERA_RTSP_URL=rtsp://username:password@camera-ip:554/stream

# Camera resolution
CAMERA_WIDTH=1920
CAMERA_HEIGHT=1080

# Camera FPS
CAMERA_FPS=30

# ==============================================================================
# Performance Configuration
# ==============================================================================

# Enable low latency mode
LOW_LATENCY=true

# Number of decode surfaces
NUM_DECODE_SURFACES=4

# Number of extra surfaces
NUM_EXTRA_SURFACES=1

# ==============================================================================
# Logging Configuration
# ==============================================================================

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Enable file logging
ENABLE_FILE_LOGGING=true

# Log file rotation
LOG_MAX_BYTES=10485760
LOG_BACKUP_COUNT=5

# ==============================================================================
# Detection Configuration
# ==============================================================================

# Detection interval (process every N frames)
DETECTION_INTERVAL=2

# Confidence threshold
CONFIDENCE_THRESHOLD=0.25

# NMS IoU threshold
NMS_IOU_THRESHOLD=0.5

# Classes to detect (comma-separated, 0=person)
# Leave empty to detect all classes
DETECT_CLASSES=0

# Minimum detection size (width x height in pixels)
MIN_DETECTION_WIDTH=20
MIN_DETECTION_HEIGHT=40

# ==============================================================================
# Recording Configuration
# ==============================================================================

# Enable recording
ENABLE_RECORDING=false

# Recording codec (H264, H265)
RECORDING_CODEC=H264

# Recording bitrate (in bits per second)
RECORDING_BITRATE=4000000

# Recording container (mp4, mkv)
RECORDING_CONTAINER=mp4

# ==============================================================================
# Registry Configuration (for pushing images)
# ==============================================================================

# Container registry URL
# REGISTRY=ghcr.io/username
# REGISTRY=docker.io/username

# Registry username
# REGISTRY_USERNAME=username

# Registry password/token (use secrets in production)
# REGISTRY_PASSWORD=

# ==============================================================================
# Development Configuration
# ==============================================================================

# Enable development mode (mounts source code)
DEV_MODE=false

# Enable hot reload
ENABLE_HOT_RELOAD=false

# ==============================================================================
# Security Configuration
# ==============================================================================

# Run as non-root user (user:group)
# DOCKER_USER=1000:1000

# Enable seccomp profile
ENABLE_SECCOMP=true

# ==============================================================================
# Notes
# ==============================================================================
# - Don't commit .env file with sensitive data to version control
# - Use docker-compose with .env: docker-compose up
# - Override variables: CUDA_VISIBLE_DEVICES=0 docker-compose up
# - For production, use secrets management instead of .env file
# ==============================================================================
